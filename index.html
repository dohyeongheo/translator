<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nuance</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&family=Sarabun:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class="h-screen flex flex-col overflow-hidden">
    <div class="container-wrapper h-full flex flex-col">

        <!-- 1. Header & Global UI Switcher -->
        <header class="toss-dark shrink-0 shadow-lg z-10 mb-3 header-full-width" style="padding: 4px 10px;">
            <div class="flex justify-between items-center">
                <h1 onclick="showTranslationPage()"
                    class="text-base font-bold flex items-center gap-1.5 cursor-pointer transition"
                    style="color: #ffffff !important;">
                    Nuance
                </h1>
                <div class="flex gap-1 items-center">
                    <!-- Vocabulary Button -->
                    <button onclick="showVocabularyPage()" class="p-1 transition"
                        style="background: transparent; color: var(--text-header-secondary); border-radius: 0; border: 1px solid transparent;"
                        onmouseover="this.style.background='var(--bg-header-hover)'; this.style.color='var(--text-header)'; this.style.borderColor='var(--border-header)'"
                        onmouseout="this.style.background='transparent'; this.style.color='var(--text-header-secondary)'; this.style.borderColor='transparent'"
                        aria-label="Îã®Ïñ¥Ïû•" title="Îã®Ïñ¥Ïû•">
                        <i class="fas fa-book text-sm" aria-hidden="true"></i>
                    </button>
                    <!-- Realtime Translate Button -->
                    <button onclick="showRealtimePage()" class="p-1 transition"
                        style="background: transparent; color: var(--text-header-secondary); border-radius: 0; border: 1px solid transparent;"
                        onmouseover="this.style.background='var(--bg-header-hover)'; this.style.color='var(--text-header)'; this.style.borderColor='var(--border-header)'"
                        onmouseout="this.style.background='transparent'; this.style.color='var(--text-header-secondary)'; this.style.borderColor='transparent'"
                        aria-label="Ïã§ÏãúÍ∞Ñ Î≤àÏó≠" title="Ïã§ÏãúÍ∞Ñ Î≤àÏó≠">
                        <i class="fas fa-bolt text-sm" aria-hidden="true"></i>
                    </button>
                    <!-- UI Language Switcher -->
                    <div class="flex gap-0.5" role="group" aria-label="UI Ïñ∏Ïñ¥ ÏÑ†ÌÉù"
                        style="background: transparent; border-radius: 0;">
                        <button onclick="setUILang('ko')" class="ui-lang-btn active text-base" aria-label="ÌïúÍµ≠Ïñ¥"
                            title="ÌïúÍµ≠Ïñ¥">üá∞üá∑</button>
                        <button onclick="setUILang('th')" class="ui-lang-btn text-base" aria-label="ÌÉúÍµ≠Ïñ¥"
                            title="ÌÉúÍµ≠Ïñ¥">üáπüá≠</button>
                        <button onclick="setUILang('en')" class="ui-lang-btn text-base" aria-label="ÏòÅÏñ¥"
                            title="ÏòÅÏñ¥">üá∫üá∏</button>
                    </div>
                </div>
            </div>

        </header>

        <!-- 2. Main Content -->
        <main class="flex-1 overflow-y-auto px-4 space-y-4 pb-32">

            <!-- Translation Section -->
            <div id="translation-section">

                <!-- Input Summary Bar -->
                <div class="toss-dark rounded-xl px-4 py-3 mb-3"
                    style="border: 1px solid var(--border-color); background: var(--bg-secondary);">
                    <div class="flex items-center justify-between gap-4" role="group" aria-label="Î≤àÏó≠ ÏÑ§Ï†ï">
                        <!-- Ï∂úÎ∞úÏñ¥/ÎèÑÏ∞©Ïñ¥ -->
                        <div class="flex items-center gap-3 flex-1" id="language-selector">
                            <button id="source-trigger" class="translation-setting-btn" aria-haspopup="true">
                                <span id="source-label" class="font-medium">Ï∂úÎ∞úÏñ¥: ÏûêÎèô</span>
                                <i class="fas fa-chevron-down text-[10px] ml-1.5 opacity-70"></i>
                            </button>
                            <i class="fas fa-arrow-right text-sm opacity-50" aria-hidden="true"
                                style="color: var(--text-tertiary);"></i>
                            <button id="target-trigger" class="translation-setting-btn" aria-haspopup="true">
                                <span id="target-label" class="font-medium">ÎèÑÏ∞©Ïñ¥: ÌÉúÍµ≠Ïñ¥</span>
                                <i class="fas fa-chevron-down text-[10px] ml-1.5 opacity-70"></i>
                            </button>
                        </div>
                        <!-- ÎâòÏïôÏä§ -->
                        <div class="flex items-center gap-2" id="nuance-wrapper" style="white-space: nowrap;">
                            <div class="h-4 w-px opacity-30" style="background: var(--border-color);"></div>
                            <button id="tone-trigger" class="translation-setting-btn" aria-haspopup="true">
                                <span id="tone-label" class="font-medium">ÎâòÏïôÏä§: ÏòàÏùò Î∞îÎ•¥Í≤å</span>
                                <i class="fas fa-chevron-down text-[10px] ml-1.5 opacity-70"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div id="input-area" class="toss-dark rounded-2xl relative overflow-hidden">
                    <!-- ÏûÖÎ†•Ï∞Ω -->
                    <div class="relative">
                        <textarea id="input-text"
                            class="w-full p-0 rounded-none text-lg leading-relaxed resize-none shadow-none bg-transparent border-none focus:outline-none"
                            style="color: var(--text-primary);" placeholder="Ïó¨Í∏∞Ïóê ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." aria-label="Î≤àÏó≠Ìï† ÌÖçÏä§Ìä∏ ÏûÖÎ†•"></textarea>

                        <button onclick="clearInput()" class="absolute top-3 right-3 p-2 transition"
                            style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--text-secondary)'"
                            onmouseout="this.style.color='var(--text-tertiary)'" aria-label="ÏûÖÎ†• ÎÇ¥Ïö© ÏßÄÏö∞Í∏∞" title="ÏßÄÏö∞Í∏∞">
                            <i class="fas fa-times-circle text-xl" aria-hidden="true"></i>
                        </button>
                        <button onclick="executeTranslation()"
                            class="absolute bottom-3 right-3 toss-button w-12 h-12 rounded-full flex items-center justify-center"
                            style="color: #ffffff;" aria-label="Î≤àÏó≠ Ïã§Ìñâ" title="Î≤àÏó≠ (Ctrl+Enter)">
                            <i class="fas fa-paper-plane text-lg" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>

                <!-- Result Area -->
                <div id="result-card" class="hidden animate-pulse">
                    <div class="toss-dark rounded-2xl relative overflow-hidden">
                        <div class="flex justify-between items-center mb-3">
                            <span id="detected-lang-label" class="text-[10px] font-bold px-2 py-1 rounded"
                                style="background: var(--bg-card-hover); color: var(--accent-primary);">DETECTED</span>
                            <div class="flex gap-3">
                                <button onclick="copyResult()" class="transition" style="color: var(--text-secondary);"
                                    onmouseover="this.style.color='var(--text-primary)'"
                                    onmouseout="this.style.color='var(--text-secondary)'" aria-label="Í≤∞Í≥º Î≥µÏÇ¨" title="Î≥µÏÇ¨">
                                    <i class="far fa-copy" aria-hidden="true"></i>
                                </button>
                                <button onclick="playTTS(state.lastResult, state.lastLang)" class="transition"
                                    style="color: var(--accent-primary);"
                                    onmouseover="this.style.color='var(--accent-hover)'"
                                    onmouseout="this.style.color='var(--accent-primary)'" aria-label="ÏùåÏÑ± Ïû¨ÏÉù"
                                    title="ÏùåÏÑ± Ïû¨ÏÉù">
                                    <i id="tts-icon" class="fas fa-volume-high text-xl" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <p id="output-text" class="text-2xl font-bold leading-relaxed thai-font break-words"
                            style="color: var(--text-primary);"></p>

                        <!-- Word Guide Section -->
                        <div id="word-guide-section" class="hidden mt-4 pt-4"
                            style="border-top: 1px solid var(--border-color);">
                            <button onclick="toggleWordGuide()" class="flex items-center gap-2 text-sm transition mb-3"
                                style="color: var(--accent-primary);"
                                onmouseover="this.style.color='var(--accent-hover)'"
                                onmouseout="this.style.color='var(--accent-primary)'" aria-expanded="false"
                                aria-controls="word-guide-content">
                                <i class="fas fa-book text-xs" aria-hidden="true"></i>
                                <span id="word-guide-toggle-text" data-i18n="wordGuide">Îã®Ïñ¥/ÌëúÌòÑ ÏïàÎÇ¥</span>
                                <i id="word-guide-icon" class="fas fa-chevron-down text-xs transition-transform"
                                    aria-hidden="true"></i>
                            </button>
                            <div id="word-guide-content" class="hidden space-y-2">
                                <!-- Word guide items will be inserted here -->
                            </div>
                        </div>

                        <!-- Error Log -->
                        <div id="error-log" class="hidden mt-4 p-3 rounded-lg text-xs font-mono break-all"
                            style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); color: #dc2626;">
                        </div>

                        <!-- Loading -->
                        <div id="loading-spinner"
                            class="hidden absolute inset-0 flex items-center justify-center backdrop-blur-sm"
                            style="background: rgba(245, 245, 245, 0.9);">
                            <div class="flex flex-col items-center">
                                <i class="fas fa-circle-notch fa-spin text-3xl mb-2"
                                    style="color: var(--accent-primary);"></i>
                                <span class="text-xs font-bold pulse-text" data-i18n="translating"
                                    style="color: var(--text-primary);">AI Î≤àÏó≠
                                    Ï§ë...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Realtime Translation Section -->
            <div id="realtime-section" class="hidden">
                <!-- Language Selector -->
                <div class="toss-dark rounded-2xl p-3 mb-3" style="border: 1px solid var(--border-color);">
                    <div class="flex items-center gap-2 flex-wrap">
                        <div class="flex items-center gap-1">
                            <span class="text-[10px] font-bold uppercase" style="color: var(--text-secondary);">ÏûÖÎ†•</span>
                            <div class="flex gap-1">
                                <button data-rt-lang="auto" class="lang-btn rt-source active" aria-pressed="true">ÏûêÎèô</button>
                                <button data-rt-lang="ko" class="lang-btn rt-source" aria-pressed="false">ÌïúÍµ≠Ïñ¥</button>
                                <button data-rt-lang="th" class="lang-btn rt-source" aria-pressed="false">ÌÉúÍµ≠Ïñ¥</button>
                                <button data-rt-lang="en" class="lang-btn rt-source" aria-pressed="false">ÏòÅÏñ¥</button>
                            </div>
                        </div>

                        <button id="rt-swap-btn" class="p-1 transition" aria-label="Ïñ∏Ïñ¥ ÍµêÏ≤¥"
                            style="color: var(--text-secondary);"
                            onmouseover="this.style.color='var(--text-primary)'"
                            onmouseout="this.style.color='var(--text-secondary)'">
                            <i class="fas fa-exchange-alt" aria-hidden="true"></i>
                        </button>

                        <div class="flex items-center gap-1">
                            <span class="text-[10px] font-bold uppercase" style="color: var(--text-secondary);">Ï∂úÎ†•</span>
                            <div class="flex gap-1">
                                <button data-rt-lang="th" class="lang-btn rt-target active" aria-pressed="true">ÌÉúÍµ≠Ïñ¥</button>
                                <button data-rt-lang="en" class="lang-btn rt-target" aria-pressed="false">ÏòÅÏñ¥</button>
                                <button data-rt-lang="ko" class="lang-btn rt-target" aria-pressed="false">ÌïúÍµ≠Ïñ¥</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Input / Output -->
                <div class="grid md:grid-cols-2 gap-3">
                    <!-- Realtime Input -->
                    <div class="toss-dark rounded-2xl p-3 relative" style="border: 1px solid var(--border-color);">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-xs font-semibold" style="color: var(--text-secondary);">ÏûÖÎ†•</span>
                            <div class="flex gap-2">
                                <button id="rt-input-copy" class="transition" aria-label="ÏûÖÎ†• Î≥µÏÇ¨"
                                    style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--text-secondary)'"
                                    onmouseout="this.style.color='var(--text-tertiary)'"><i class="far fa-copy"></i></button>
                                <button id="rt-input-tts" class="transition" aria-label="ÏûÖÎ†• TTS"
                                    style="color: var(--accent-primary);" onmouseover="this.style.color='var(--accent-hover)'"
                                    onmouseout="this.style.color='var(--accent-primary)'"><i class="fas fa-volume-high"></i></button>
                                <button id="rt-input-clear" class="transition" aria-label="ÏûÖÎ†• ÏßÄÏö∞Í∏∞"
                                    style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--text-secondary)'"
                                    onmouseout="this.style.color='var(--text-tertiary)'"><i class="fas fa-times"></i></button>
                            </div>
                        </div>
                        <textarea id="rt-input" class="w-full bg-transparent border-none focus:outline-none resize-none"
                            rows="8" placeholder="Ïã§ÏãúÍ∞Ñ Î≤àÏó≠Ìï† ÌÖçÏä§Ìä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." style="color: var(--text-primary);"></textarea>
                    </div>

                    <!-- Realtime Output -->
                    <div class="toss-dark rounded-2xl p-3 relative" style="border: 1px solid var(--border-color);">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center gap-2">
                                <span class="text-xs font-semibold" style="color: var(--text-secondary);">Ï∂úÎ†•</span>
                                <span id="rt-detected" class="text-[10px] font-bold px-2 py-1 rounded hidden"
                                    style="background: var(--bg-card-hover); color: var(--accent-primary);">DETECTED</span>
                            </div>
                            <div class="flex gap-2">
                                <button id="rt-output-copy" class="transition" aria-label="Ï∂úÎ†• Î≥µÏÇ¨"
                                    style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--text-secondary)'"
                                    onmouseout="this.style.color='var(--text-tertiary)'"><i class="far fa-copy"></i></button>
                                <button id="rt-output-tts" class="transition" aria-label="Ï∂úÎ†• TTS"
                                    style="color: var(--accent-primary);" onmouseover="this.style.color='var(--accent-hover)'"
                                    onmouseout="this.style.color='var(--accent-primary)'"><i class="fas fa-volume-high"></i></button>
                            </div>
                        </div>
                        <div id="rt-output" class="min-h-[160px] whitespace-pre-wrap leading-relaxed"
                            style="color: var(--text-primary);"></div>
                        <div id="rt-loading" class="hidden absolute inset-0 flex items-center justify-center backdrop-blur-sm">
                            <i class="fas fa-circle-notch fa-spin text-2xl" style="color: var(--accent-primary);"></i>
                        </div>
                    </div>
                </div>

                <!-- Word Guides -->
                <div class="grid md:grid-cols-2 gap-3 mt-3">
                    <div class="toss-dark rounded-2xl p-3" style="border: 1px solid var(--border-color);">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-semibold" style="color: var(--text-secondary);">Ï∂úÎ∞úÏñ¥ Îã®Ïñ¥/ÌëúÌòÑ ÏïàÎÇ¥</span>
                            <span id="rt-source-count" class="text-xs" style="color: var(--text-tertiary);"></span>
                        </div>
                        <div id="rt-word-guide-source" class="space-y-2"></div>
                    </div>
                    <div class="toss-dark rounded-2xl p-3" style="border: 1px solid var(--border-color);">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-semibold" style="color: var(--text-secondary);">ÎèÑÏ∞©Ïñ¥ Îã®Ïñ¥/ÌëúÌòÑ ÏïàÎÇ¥</span>
                            <span id="rt-target-count" class="text-xs" style="color: var(--text-tertiary);"></span>
                        </div>
                        <div id="rt-word-guide-target" class="space-y-2"></div>
                    </div>
                </div>
            </div>
            <!-- End Translation Section -->

            <!-- Vocabulary Section -->
            <div id="vocabulary-section" class="hidden">
                <div class="toss-dark rounded-2xl">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold flex items-center gap-2" style="color: var(--text-primary);">
                            <i class="fas fa-book" style="color: var(--accent-primary);"></i>
                            <span data-i18n="vocabulary">Îã®Ïñ¥Ïû•</span>
                        </h2>
                        <button onclick="showTranslationPage()" class="transition" style="color: var(--text-secondary);"
                            onmouseover="this.style.color='var(--text-primary)'"
                            onmouseout="this.style.color='var(--text-secondary)'" aria-label="Î≤àÏó≠ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"
                            title="Î≤àÏó≠ ÌéòÏù¥ÏßÄÎ°ú">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>

                    <!-- Language Tabs -->
                    <div class="flex gap-2 mb-4">
                        <button data-vocab-lang="th" onclick="loadAndDisplayVocabulary('th')"
                            class="px-4 py-2 rounded-lg border-2 border-transparent text-sm font-bold transition active"
                            style="background: var(--accent-primary); color: #ffffff; border-color: var(--accent-primary);">
                            üáπüá≠ ÌÉúÍµ≠Ïñ¥
                        </button>
                        <button data-vocab-lang="en" onclick="loadAndDisplayVocabulary('en')"
                            class="px-4 py-2 rounded-lg border-2 border-transparent text-sm font-bold transition"
                            style="color: var(--text-secondary); background: var(--bg-secondary); border-color: var(--border-color);"
                            onmouseover="this.style.color='var(--text-primary)'; this.style.background='var(--bg-card-hover)'"
                            onmouseout="this.style.color='var(--text-secondary)'; this.style.background='var(--bg-secondary)'">
                            üá∫üá∏ ÏòÅÏñ¥
                        </button>
                        <button data-vocab-lang="ko" onclick="loadAndDisplayVocabulary('ko')"
                            class="px-4 py-2 rounded-lg border-2 border-transparent text-sm font-bold transition"
                            style="color: var(--text-secondary); background: var(--bg-secondary); border-color: var(--border-color);"
                            onmouseover="this.style.color='var(--text-primary)'; this.style.background='var(--bg-card-hover)'"
                            onmouseout="this.style.color='var(--text-secondary)'; this.style.background='var(--bg-secondary)'">
                            üá∞üá∑ ÌïúÍµ≠Ïñ¥
                        </button>
                    </div>

                    <!-- Search and Actions -->
                    <div class="flex gap-2 mb-4">
                        <div class="flex-1 relative">
                            <input type="text" id="vocabulary-search-input"
                                class="w-full p-3 rounded-xl toss-input text-sm"
                                style="border-color: var(--border-color); color: var(--text-primary);"
                                placeholder="ÏõêÎ¨∏, ÏùòÎØ∏, Î∞úÏùåÏúºÎ°ú Í≤ÄÏÉâ..." data-i18n-placeholder="searchPlaceholder">
                            <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2"
                                style="color: var(--text-tertiary);"></i>
                        </div>
                        <button id="vocabulary-delete-selected-btn" onclick="showDeleteConfirmModal()"
                            class="p-3 rounded-xl transition hidden" style="background: #ef4444; color: #ffffff;"
                            onmouseover="this.style.background='#dc2626'" onmouseout="this.style.background='#ef4444'"
                            aria-label="ÏÑ†ÌÉù ÏÇ≠Ï†ú" title="ÏÑ†ÌÉù ÏÇ≠Ï†ú">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>

                    <!-- Loading Indicator -->
                    <div id="vocabulary-loading" class="hidden text-center py-8">
                        <i class="fas fa-circle-notch fa-spin text-2xl mb-2" style="color: var(--accent-primary);"></i>
                        <p class="text-sm" data-i18n="loadingWords" style="color: var(--text-secondary);">Îã®Ïñ¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...
                        </p>
                    </div>

                    <!-- Vocabulary Table Container -->
                    <div id="vocabulary-table-container" class="overflow-x-auto mb-4">
                        <!-- Table will be rendered here -->
                    </div>

                    <!-- Delete Confirm Modal -->
                    <div id="delete-confirm-modal"
                        class="fixed inset-0 hidden items-center justify-center z-50"
                        style="background: rgba(0,0,0,0.45);">
                        <div class="bg-white rounded-xl shadow-lg p-6 w-full max-w-sm"
                            style="background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border-color);">
                            <div class="text-base font-bold mb-3" data-i18n="confirmDeleteSelected">ÏÑ†ÌÉùÌïú Ìï≠Î™©ÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?</div>
                            <div class="flex justify-end gap-2">
                                <button type="button" onclick="hideDeleteConfirmModal()"
                                    class="px-4 py-2 rounded-lg border text-sm font-bold transition"
                                    style="color: var(--text-secondary); border-color: var(--border-color); background: var(--bg-secondary);"
                                    onmouseover="this.style.background='var(--bg-card-hover)'"
                                    onmouseout="this.style.background='var(--bg-secondary)'">
                                    Ï∑®ÏÜå
                                </button>
                                <button type="button" onclick="deleteSelectedWords(true)"
                                    class="px-4 py-2 rounded-lg text-sm font-bold transition"
                                    style="background: #ef4444; color: #ffffff;"
                                    onmouseover="this.style.background='#dc2626'"
                                    onmouseout="this.style.background='#ef4444'">
                                    ÏÇ≠Ï†ú
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div id="vocabulary-pagination" class="flex justify-center items-center gap-2 mt-4">
                        <!-- Pagination will be rendered here -->
                    </div>
                </div>
            </div>
            <!-- End Vocabulary Section -->

        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="hidden fixed bottom-6 right-6 z-50">
        <div class="px-6 py-3 rounded-lg shadow-2xl flex items-center gap-3"
            style="background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border-color);">
            <i class="fas fa-check-circle text-green-400"></i>
            <span id="toast-message" class="text-sm font-medium"></span>
        </div>
    </div>

    <!-- Selector Modal -->
    <div id="selector-modal-backdrop"
        class="fixed inset-0 hidden items-start justify-start z-50"
        style="background: rgba(0,0,0,0.35);">
        <div id="selector-modal"
            class="bg-white rounded-xl shadow-lg w-full max-w-xs"
            style="position: absolute; background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border-color);">
            <div class="flex items-center justify-between px-4 py-3 border-b"
                style="border-color: var(--border-color);">
                <div id="selector-modal-title" class="text-sm font-bold">ÏÑ†ÌÉù</div>
                <button id="selector-modal-close" class="p-1 transition" aria-label="Îã´Í∏∞"
                    style="color: var(--text-tertiary);"
                    onmouseover="this.style.color='var(--text-secondary)'"
                    onmouseout="this.style.color='var(--text-tertiary)'">
                    <i class="fas fa-times text-sm"></i>
                </button>
            </div>
            <div id="selector-modal-list" class="max-h-64 overflow-y-auto py-2">
                <!-- options will be injected -->
            </div>
        </div>
    </div>

    <!-- JavaScript ÌååÏùº Î°úÎìú -->
    <script src="js/config.js"></script>
    <script src="js/secrets.js"></script>
    <script src="js/state.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/db.js"></script>
    <script src="js/vocabulary.js"></script>
    <script src="js/translation.js"></script>
    <script src="js/ui.js"></script>
</body>

</html>
